<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />


        <script type="text/javascript" src="files/jquery-1.7.2.min.js"></script>

        <title>What's On</title>

        <script src="http://code.xrtml.org/xrtml-2.0.2.js" type="text/javascript"></script>
    </head>
    <body>
        <!--<div class="app">
            <h1>Apache Cordova</h1>
            <div id="deviceready">
                <p class="status pending blink">Connecting to Device</p>
                <p class="status complete blink hide">Device is Ready</p>
            </div>
        </div>
        <script type="text/javascript" src="cordova-2.0.0.js"></script>
        <script type="text/javascript" src="js/index.js"></script>
        <script type="text/javascript">
            app.initialize();
        </script>-->

      <script type="text/javascript">

        xRTML.Config.debug = true;

        var connectionJSON = {
        id:'myConnection',
        appkey:'71NGsl',
        authtoken:'myAuthToken',
        url:'http://developers2.realtime.livehtml.net/server/2.1',
        channels:[{name:'myChannel'}]
        }
        xRTML.addEventListener('ready',function(){
        xRTML.createConnection(connectionJSON);
        });

        connectionJSON.onmessage = function(e){
        alert('Connection '+e.target.id+ ' says: '+e.message);
        }

        function sendMessage(){
          xRTML.sendMessage('myChannel','Hello Realtime');
          $("#msgb").val("clicou");
          if (typeof xRTML != "undefined") {
            $("#msgb").val("defined");
          } else {
            $("#msgb").val("undefined");
          }
        }

      </script>

      <input id="msgb" onclick="sendMessage();" type="button" value="Send Message to myChannel2"/>
    </body>
</html>
